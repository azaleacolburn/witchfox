/* SPDX-License-Identifier: MPL-2.0 */
/* SPDX-FileCopyrightText: 2024 awwpotato */

#identity-box[pageproxystate="valid"]:is(.notSecureText, .chromeUI, .extensionPage) > 
.identity-box-button {
    
    &:not(:hover){
        background-color: transparent !important;        
    }
    & image {
        list-style-image: url("../icons/firefox.svg") !important;
    }
    
    & #identity-icon-label {
        display: none !important;
    }

    fill: var(--toolbarbutton-icon-fill) !important;
}

#urlbar-background {
    border-radius: var(--uc-button-radius) !important;
}

@media not (-moz-bool-pref: "uc.tweak.regular-search") {
#main-window:not([customizing]) {
    
    /* url-bar animation */
    #nav-bar {
        display: flex;
        justify-content: center;
    }
    
    #urlbar-container {
        flex: 1;
        max-width: 1000px;
        margin: auto !important;
    }
    
    #urlbar-background {
        border: none !important;
    }
    
    #urlbar {
        z-index: 9999 !important;
        opacity: 100 !important;
        margin-top: 0 !important;
        margin-left: 0 !important;
        margin-right: 0 !important;
        /* transition: width 0.3s ease, left 0.3s ease, margin-top 0.3s ease, margin-left 0.3s ease, margin-right 0.3s ease; */
    }
    
    #urlbar[breakout="true"][breakout-extend="true"] {
        position: absolute !important;
        width: clamp(400px,64vw,800px) !important;
        
        top: 20vh !important;
        left: calc(50% - (clamp(400px,64vw,800px)/2)) !important;
        right: auto !important;
        
        z-index: 100 !important;
        margin-left: auto !important;
        margin-right: auto !important;
        
        /* transition: width 0.3s ease, left 0.3s ease, margin-top 0.3s ease, margin-left 0.3s ease, margin-right 0.3s ease; */
        .urlbar-input {
            font-size: 16px !important;
        }
        #urlbar-background {
            background-color: color-mix(in srgb, Field, transparent 10%) !important;
            backdrop-filter: blur(var(--uc-blur-radius)) !important;
        }
        /* &::before {
            content: "";
            position: fixed;
            left: 0;
            top: 0;
            width: 100vw;
            height: 100vh;
            background-color: color-mix(in srgb, transparent, var(--uc-bg-tran) 50%);
            backdrop-filter: blur(1px);
            pointer-events: none !important;
        } */
    }
    
    #urlbar:not([breakout="true"][breakout-extend="true"]) {
        & #urlbar-background { background-color: transparent !important; }
        & .urlbar-input-container {
            text-align: center !important;
            & .urlbar-input-box { transition: none !important; }
        }
    }
}}
